{
  "hash": "9b62bfe554923904a26a12705ebadbcf",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Grammar of Data Transformation\"\nsubtitle: \"Lecture 4\"\ndate: \"2025-05-19\"\nformat: \n  revealjs:\n    output-file: 04-data-transform-slides.html\nauto-stretch: false\n---\n\n## Announcements/Reminders {.smaller}\n\n-   Lab is due tomorrow night!!\n\n-   Come to office hours and/or post on Ed for help!\n\n## Lab: Code Style (Do these things!!!)\n\n*Which of these pieces of code is easier to read?*\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(bechdel, aes(x=budget_2013,y=gross_2013,color=binary,size=roi)) +\ngeom_point(alpha = 0.5) + facet_wrap(~clean_test) \n```\n:::\n\n\n<br> <br>\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(bechdel, aes(x = budget_2013, y = gross_2013,\n                    color = binary, size = roi)) +\n  geom_point(alpha = 0.5) + \n  facet_wrap(~clean_test) \n```\n:::\n\n\n## Lab: Code Style (Do these things!!!) {.smaller .incremental}\n\nCode should follow the **tidyverse** style:\n\n-   there should be spaces before and line breaks after each `+` when building a `ggplot`\n\n-   there should also be spaces before and line breaks after each `|>` in a data transformation pipeline\n\n-   code should be properly indented\n\n-   spaces around `=` signs and spaces after commas\n\nAll code should be visible in the PDF output (should not run off the page)!\nUse line breaks to prevent this.\n\n## Survey Responses {.smaller}\n\n::: incremental\n-   **Concerns:** first time coding + the quick pace of the course\\\n-   **Best way to succeed?** Come to class/labs and ask for help!!!\\\n-   **Grading:**\n    -   Is the midterm take-home individual or collaborative?\\\n        Individual!!\\\n    -   Is the class curved or absolute?\\\n        We will only curve up -- your absolute grade is the minimum you can get\\\n-   **What is statistics/this class???**\n:::\n\n## Outline {.smaller}\n\n-   ***Last Time:*** Learned about more types of plots\n\n-   ***Today:*** Grammar of 'data wrangling'\n\n\n::: {.cell}\n\n:::\n\n\n# AE-02: Any questions?\n\n# Data Transformation\n\n## dplyr\n\nPrimary package in the **tidyverse** for data wrangling and transformation\n\n::: columns\n::: {.column width=\"50%\"}\n[dplyr.tidyverse.org](https://dplyr.tidyverse.org)\n\n```{=html}\n<iframe width=600 height=375 src=\"https://dplyr.tidyverse.org/\" title=\"dplyr home page\"></iframe>\n```\n:::\n:::\n\n## What is data transformation?\n\n::: incremental\n-   Making new variables (example: garage in AE03)\n\n-   Renaming/reordering your data frame\n\n-   Summarizing information about your variables\n\n-   And more!\n:::\n\n## The pipe {.incremental}\n\n::: incremental\n-   The **pipe**, `|>`, is an operator (a tool) for passing information from one process to another.\n\n-   Use `|>` to pass the output of the previous line of code as the first input of the next line of code.\n\n-   When reading code \"in English\", say \"and then\" whenever you see a pipe.\n:::\n\n# Row Operations\n\n## Row Operations {.smaller}\n\n-   `slice()`: chooses rows based on location\n\n<br>\n\n| Variable1 | Variable2 | Variable3 |\n|-----------|-----------|-----------|\n| 1         | A         | Yes       |\n| 2         | B         | Yes       |\n| 5         | A         | No        |\n| 2         | B         | No        |\n| 1         | A         | No        |\n| 4         | B         | No        |\n\n## Row Operations {.smaller}\n\n-   `filter()`:chooses rows based on column values\n\n<br>\n\n| Variable1 | Variable2 | Variable3 |\n|-----------|-----------|-----------|\n| 1         | A         | Yes       |\n| 2         | B         | Yes       |\n| 5         | A         | No        |\n| 2         | B         | No        |\n| 1         | A         | No        |\n| 4         | B         | No        |\n\n## Row Operations {.smaller}\n\n-   `arrange()`: changes the order of the rows\n\n<br>\n\n| Variable1 | Variable2 | Variable3 |\n|-----------|-----------|-----------|\n| 1         | A         | Yes       |\n| 2         | B         | Yes       |\n| 5         | A         | No        |\n| 2         | B         | No        |\n| 1         | A         | No        |\n| 4         | B         | No        |\n\n## Row Operations {.smaller}\n\n-   `sample_n()`: take a random subset of the rows\n\n<br>\n\n| Variable1 | Variable2 | Variable3 |\n|-----------|-----------|-----------|\n| 1         | A         | Yes       |\n| 2         | B         | Yes       |\n| 5         | A         | No        |\n| 2         | B         | No        |\n| 1         | A         | No        |\n| 4         | B         | No        |\n\n## `slice()` {.smaller}\n\nDisplay the first five rows of `bechdel`:\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"|1|2\"}\nbechdel\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1,615 × 7\n   title          year gross_2013 budget_2013    roi binary clean_test\n   <chr>         <dbl>      <dbl>       <dbl>  <dbl> <chr>  <chr>     \n 1 21 & Over      2013   67878146    13000000  5.22  FAIL   notalk    \n 2 Dredd 3D       2012   55078343    45658735  1.21  PASS   ok        \n 3 12 Years a S…  2013  211714070    20000000 10.6   FAIL   notalk    \n 4 2 Guns         2013  208105475    61000000  3.41  FAIL   notalk    \n 5 42             2013  190040426    40000000  4.75  FAIL   men       \n 6 47 Ronin       2013  184166317   225000000  0.819 FAIL   men       \n 7 A Good Day t…  2013  371598396    92000000  4.04  FAIL   notalk    \n 8 About Time     2013  102648667    12000000  8.55  PASS   ok        \n 9 Admission      2013   36014634    13000000  2.77  PASS   ok        \n10 After Earth    2013  304895295   130000000  2.35  FAIL   notalk    \n# ℹ 1,605 more rows\n```\n\n\n:::\n:::\n\n\n## `slice()` {.smaller}\n\nDisplay the first five rows of `bechdel`:\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"2\"}\nbechdel |>\n  slice(1:5)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 5 × 7\n  title            year gross_2013 budget_2013   roi binary clean_test\n  <chr>           <dbl>      <dbl>       <dbl> <dbl> <chr>  <chr>     \n1 21 & Over        2013   67878146    13000000  5.22 FAIL   notalk    \n2 Dredd 3D         2012   55078343    45658735  1.21 PASS   ok        \n3 12 Years a Sla…  2013  211714070    20000000 10.6  FAIL   notalk    \n4 2 Guns           2013  208105475    61000000  3.41 FAIL   notalk    \n5 42               2013  190040426    40000000  4.75 FAIL   men       \n```\n\n\n:::\n:::\n\n\n## `filter()` {.smaller}\n\nKeep only the rows of`bechdel` that pass the test:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbechdel\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1,615 × 7\n   title          year gross_2013 budget_2013    roi binary clean_test\n   <chr>         <dbl>      <dbl>       <dbl>  <dbl> <chr>  <chr>     \n 1 21 & Over      2013   67878146    13000000  5.22  FAIL   notalk    \n 2 Dredd 3D       2012   55078343    45658735  1.21  PASS   ok        \n 3 12 Years a S…  2013  211714070    20000000 10.6   FAIL   notalk    \n 4 2 Guns         2013  208105475    61000000  3.41  FAIL   notalk    \n 5 42             2013  190040426    40000000  4.75  FAIL   men       \n 6 47 Ronin       2013  184166317   225000000  0.819 FAIL   men       \n 7 A Good Day t…  2013  371598396    92000000  4.04  FAIL   notalk    \n 8 About Time     2013  102648667    12000000  8.55  PASS   ok        \n 9 Admission      2013   36014634    13000000  2.77  PASS   ok        \n10 After Earth    2013  304895295   130000000  2.35  FAIL   notalk    \n# ℹ 1,605 more rows\n```\n\n\n:::\n:::\n\n\n## `filter()` {.smaller}\n\nKeep only the rows of`bechdel` that pass the test:\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"2\"}\nbechdel |>\n  filter(binary == \"PASS\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 753 × 7\n   title           year gross_2013 budget_2013   roi binary clean_test\n   <chr>          <dbl>      <dbl>       <dbl> <dbl> <chr>  <chr>     \n 1 Dredd 3D        2012   55078343    45658735  1.21 PASS   ok        \n 2 About Time      2013  102648667    12000000  8.55 PASS   ok        \n 3 Admission       2013   36014634    13000000  2.77 PASS   ok        \n 4 American Hust…  2013  397915817    40000000  9.95 PASS   ok        \n 5 August: Osage…  2013   87609748    25000000  3.50 PASS   ok        \n 6 Beautiful Cre…  2013   75392809    50000000  1.51 PASS   ok        \n 7 Blue Jasmine    2013  101793664    18000000  5.66 PASS   ok        \n 8 Carrie          2013  120268278    30000000  4.01 PASS   ok        \n 9 Despicable Me…  2013 1338831390    76000000 17.6  PASS   ok        \n10 Elysium         2013  379242208   120000000  3.16 PASS   ok        \n# ℹ 743 more rows\n```\n\n\n:::\n:::\n\n\n## `filter()` {.smaller}\n\nKeep only the movies from before 2000\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"2\"}\nbechdel |>\n  filter(year < 2000)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 337 × 7\n   title           year gross_2013 budget_2013   roi binary clean_test\n   <chr>          <dbl>      <dbl>       <dbl> <dbl> <chr>  <chr>     \n 1 10 Things I H…  1999  137877156    18180006  7.58 PASS   ok        \n 2 8MM             1999  185774868    55938481  3.32 FAIL   notalk    \n 3 American Beau…  1999  680094591    20976930 32.4  PASS   ok        \n 4 American Pie    1999  470616170    16781544 28.0  FAIL   men       \n 5 Analyze This    1999  396843410    41953861  9.46 FAIL   notalk    \n 6 Anna and the …  1999  109782424   104884652  1.05 FAIL   men       \n 7 Anywhere But …  1999   52172744    32164627  1.62 FAIL   dubious   \n 8 Austin Powers…  1999  722127642    48946171 14.8  FAIL   notalk    \n 9 Being John Ma…  1999   77252870    18180006  4.25 PASS   ok        \n10 Black and Whi…  1999   14659560    13984620  1.05 PASS   ok        \n# ℹ 327 more rows\n```\n\n\n:::\n:::\n\n\n## `filter()` {.smaller}\n\nOften (but not always), looks like:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfilter(variable [logical operator] value)\n```\n:::\n\n\nor\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfilter(!is.na(variable))\n```\n:::\n\n\n## Some logical operators {.smaller}\n\n| operator | definition                   |\n|:---------|:-----------------------------|\n| `<`      | is less than?                |\n| `<=`     | is less than or equal to?    |\n| `>`      | is greater than?             |\n| `>=`     | is greater than or equal to? |\n| `==`     | is exactly equal to?         |\n| `!=`     | is not equal to?             |\n\n## More logical operators {.smaller}\n\n| operator      | definition                                               |\n|:--------------|:---------------------------------------------------------|\n| `x & y`       | is x AND y?                                              |\n| `x | y`       | is x OR y?                                               |\n| `is.na(x)`    | is x NA?                                                 |\n| `!is.na(x)`   | is x not NA?                                             |\n| `x %in% y`    | is x in y?                                               |\n| `!(x %in% y)` | is x not in y?                                           |\n| `!x`          | is not x? (only makes sense if `x` is `TRUE` or `FALSE`) |\n\n## `filter()` {.smaller}\n\nKeep only the movies from before 2000 AND that pass the test\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"2\"}\nbechdel |>\n  filter(year < 2000 & binary == \"PASS\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 147 × 7\n   title          year gross_2013 budget_2013    roi binary clean_test\n   <chr>         <dbl>      <dbl>       <dbl>  <dbl> <chr>  <chr>     \n 1 10 Things I …  1999  137877156    18180006  7.58  PASS   ok        \n 2 American Bea…  1999  680094591    20976930 32.4   PASS   ok        \n 3 Being John M…  1999   77252870    18180006  4.25  PASS   ok        \n 4 Black and Wh…  1999   14659560    13984620  1.05  PASS   ok        \n 5 Boys Don't C…  1999   45144602     2796924 16.1   PASS   ok        \n 6 But I'm a Ch…  1999    6761310     1678154  4.03  PASS   ok        \n 7 Carrie 2: Th…  1999   49674054    29367703  1.69  PASS   ok        \n 8 Cruel Intent…  1999  159471926    15383082 10.4   PASS   ok        \n 9 Dick           1999   17555926    18180006  0.966 PASS   ok        \n10 Drop Dead Go…  1999   29567426    13984620  2.11  PASS   ok        \n# ℹ 137 more rows\n```\n\n\n:::\n:::\n\n\n## `sample_n()` {.smaller}\n\nDisplay five random rows of`bechdel`:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbechdel \n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1,615 × 7\n   title          year gross_2013 budget_2013    roi binary clean_test\n   <chr>         <dbl>      <dbl>       <dbl>  <dbl> <chr>  <chr>     \n 1 21 & Over      2013   67878146    13000000  5.22  FAIL   notalk    \n 2 Dredd 3D       2012   55078343    45658735  1.21  PASS   ok        \n 3 12 Years a S…  2013  211714070    20000000 10.6   FAIL   notalk    \n 4 2 Guns         2013  208105475    61000000  3.41  FAIL   notalk    \n 5 42             2013  190040426    40000000  4.75  FAIL   men       \n 6 47 Ronin       2013  184166317   225000000  0.819 FAIL   men       \n 7 A Good Day t…  2013  371598396    92000000  4.04  FAIL   notalk    \n 8 About Time     2013  102648667    12000000  8.55  PASS   ok        \n 9 Admission      2013   36014634    13000000  2.77  PASS   ok        \n10 After Earth    2013  304895295   130000000  2.35  FAIL   notalk    \n# ℹ 1,605 more rows\n```\n\n\n:::\n:::\n\n\n## `sample_n()` {.smaller}\n\nDisplay five random rows of`bechdel`:\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"2\"}\nbechdel |>\n  sample_n(5)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 5 × 7\n  title            year gross_2013 budget_2013   roi binary clean_test\n  <chr>           <dbl>      <dbl>       <dbl> <dbl> <chr>  <chr>     \n1 Crash            2004  193003880     9006109 21.4  PASS   ok        \n2 Wrath of the T…  2012  391285385   152195785  2.57 FAIL   notalk    \n3 The Visitor      2007   32135415     4494174  7.15 FAIL   dubious   \n4 Take the Lead    2006  115732846    34673890  3.34 PASS   ok        \n5 21 grams         2003   96116670    25321739  3.80 FAIL   dubious   \n```\n\n\n:::\n:::\n\n\n# Column Operations\n\n## Column operations {.smaller}\n\n-   `select()`: changes whether or not a column is included.\n\n<br>\n\n| Variable1 | Variable2 | Variable3 |\n|-----------|-----------|-----------|\n| 1         | A         | Yes       |\n| 2         | B         | Yes       |\n| 5         | A         | No        |\n| 2         | B         | No        |\n| 1         | A         | No        |\n| 4         | B         | No        |\n\n## Column operations {.smaller}\n\n-   `rename()`: changes the name of columns.\n\n<br>\n\n| Variable1 | Variable2 | Variable3 |\n|-----------|-----------|-----------|\n| 1         | A         | Yes       |\n| 2         | B         | Yes       |\n| 5         | A         | No        |\n| 2         | B         | No        |\n| 1         | A         | No        |\n| 4         | B         | No        |\n\n## Column operations {.smaller}\n\n-   `mutate()`: changes the values of columns and creates new columns.\n\n<br>\n\n| Variable1 | Variable2 | Variable3 |\n|-----------|-----------|-----------|\n| 1         | A         | Yes       |\n| 2         | B         | Yes       |\n| 5         | A         | No        |\n| 2         | B         | No        |\n| 1         | A         | No        |\n| 4         | B         | No        |\n\n## `select()` {.smaller}\n\nKeep only the title and test status.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbechdel\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1,615 × 7\n   title          year gross_2013 budget_2013    roi binary clean_test\n   <chr>         <dbl>      <dbl>       <dbl>  <dbl> <chr>  <chr>     \n 1 21 & Over      2013   67878146    13000000  5.22  FAIL   notalk    \n 2 Dredd 3D       2012   55078343    45658735  1.21  PASS   ok        \n 3 12 Years a S…  2013  211714070    20000000 10.6   FAIL   notalk    \n 4 2 Guns         2013  208105475    61000000  3.41  FAIL   notalk    \n 5 42             2013  190040426    40000000  4.75  FAIL   men       \n 6 47 Ronin       2013  184166317   225000000  0.819 FAIL   men       \n 7 A Good Day t…  2013  371598396    92000000  4.04  FAIL   notalk    \n 8 About Time     2013  102648667    12000000  8.55  PASS   ok        \n 9 Admission      2013   36014634    13000000  2.77  PASS   ok        \n10 After Earth    2013  304895295   130000000  2.35  FAIL   notalk    \n# ℹ 1,605 more rows\n```\n\n\n:::\n:::\n\n\n## `select()` {.smaller}\n\nKeep only the title and test status.\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"2\"}\nbechdel |>\n  select(title, clean_test)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1,615 × 2\n   title                  clean_test\n   <chr>                  <chr>     \n 1 21 & Over              notalk    \n 2 Dredd 3D               ok        \n 3 12 Years a Slave       notalk    \n 4 2 Guns                 notalk    \n 5 42                     men       \n 6 47 Ronin               men       \n 7 A Good Day to Die Hard notalk    \n 8 About Time             ok        \n 9 Admission              ok        \n10 After Earth            notalk    \n# ℹ 1,605 more rows\n```\n\n\n:::\n:::\n\n\n## `mutate()` {.smaller}\n\nCreate a new variable for the budget in millions\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbechdel\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1,615 × 7\n   title          year gross_2013 budget_2013    roi binary clean_test\n   <chr>         <dbl>      <dbl>       <dbl>  <dbl> <chr>  <chr>     \n 1 21 & Over      2013   67878146    13000000  5.22  FAIL   notalk    \n 2 Dredd 3D       2012   55078343    45658735  1.21  PASS   ok        \n 3 12 Years a S…  2013  211714070    20000000 10.6   FAIL   notalk    \n 4 2 Guns         2013  208105475    61000000  3.41  FAIL   notalk    \n 5 42             2013  190040426    40000000  4.75  FAIL   men       \n 6 47 Ronin       2013  184166317   225000000  0.819 FAIL   men       \n 7 A Good Day t…  2013  371598396    92000000  4.04  FAIL   notalk    \n 8 About Time     2013  102648667    12000000  8.55  PASS   ok        \n 9 Admission      2013   36014634    13000000  2.77  PASS   ok        \n10 After Earth    2013  304895295   130000000  2.35  FAIL   notalk    \n# ℹ 1,605 more rows\n```\n\n\n:::\n:::\n\n\n## `mutate()` {.smaller}\n\nKeep only the title and test status.\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"2\"}\nbechdel |>\n  mutate(budget_million = budget_2013/1000000)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1,615 × 8\n   title          year gross_2013 budget_2013    roi binary clean_test\n   <chr>         <dbl>      <dbl>       <dbl>  <dbl> <chr>  <chr>     \n 1 21 & Over      2013   67878146    13000000  5.22  FAIL   notalk    \n 2 Dredd 3D       2012   55078343    45658735  1.21  PASS   ok        \n 3 12 Years a S…  2013  211714070    20000000 10.6   FAIL   notalk    \n 4 2 Guns         2013  208105475    61000000  3.41  FAIL   notalk    \n 5 42             2013  190040426    40000000  4.75  FAIL   men       \n 6 47 Ronin       2013  184166317   225000000  0.819 FAIL   men       \n 7 A Good Day t…  2013  371598396    92000000  4.04  FAIL   notalk    \n 8 About Time     2013  102648667    12000000  8.55  PASS   ok        \n 9 Admission      2013   36014634    13000000  2.77  PASS   ok        \n10 After Earth    2013  304895295   130000000  2.35  FAIL   notalk    \n# ℹ 1,605 more rows\n# ℹ 1 more variable: budget_million <dbl>\n```\n\n\n:::\n:::\n\n\n## `mutate()` {.smaller}\n\nGenerally, looks like:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmutate(new_variable_name = function(existing_variable))\n```\n:::\n\n\n## `rename()` {.smaller}\n\nRename `clean_test` to `test_result`\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbechdel\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1,615 × 7\n   title          year gross_2013 budget_2013    roi binary clean_test\n   <chr>         <dbl>      <dbl>       <dbl>  <dbl> <chr>  <chr>     \n 1 21 & Over      2013   67878146    13000000  5.22  FAIL   notalk    \n 2 Dredd 3D       2012   55078343    45658735  1.21  PASS   ok        \n 3 12 Years a S…  2013  211714070    20000000 10.6   FAIL   notalk    \n 4 2 Guns         2013  208105475    61000000  3.41  FAIL   notalk    \n 5 42             2013  190040426    40000000  4.75  FAIL   men       \n 6 47 Ronin       2013  184166317   225000000  0.819 FAIL   men       \n 7 A Good Day t…  2013  371598396    92000000  4.04  FAIL   notalk    \n 8 About Time     2013  102648667    12000000  8.55  PASS   ok        \n 9 Admission      2013   36014634    13000000  2.77  PASS   ok        \n10 After Earth    2013  304895295   130000000  2.35  FAIL   notalk    \n# ℹ 1,605 more rows\n```\n\n\n:::\n:::\n\n\n## `rename()` {.smaller}\n\nRename `clean_test` to `test_result`\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"2\"}\nbechdel |>\n  rename(test_result = clean_test)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1,615 × 7\n   title         year gross_2013 budget_2013    roi binary test_result\n   <chr>        <dbl>      <dbl>       <dbl>  <dbl> <chr>  <chr>      \n 1 21 & Over     2013   67878146    13000000  5.22  FAIL   notalk     \n 2 Dredd 3D      2012   55078343    45658735  1.21  PASS   ok         \n 3 12 Years a …  2013  211714070    20000000 10.6   FAIL   notalk     \n 4 2 Guns        2013  208105475    61000000  3.41  FAIL   notalk     \n 5 42            2013  190040426    40000000  4.75  FAIL   men        \n 6 47 Ronin      2013  184166317   225000000  0.819 FAIL   men        \n 7 A Good Day …  2013  371598396    92000000  4.04  FAIL   notalk     \n 8 About Time    2013  102648667    12000000  8.55  PASS   ok         \n 9 Admission     2013   36014634    13000000  2.77  PASS   ok         \n10 After Earth   2013  304895295   130000000  2.35  FAIL   notalk     \n# ℹ 1,605 more rows\n```\n\n\n:::\n:::\n\n\n## `rename()` {.smaller}\n\nGenerally, looks like:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nselect(new_variable_name = old_variable_name)\n```\n:::\n\n\n# Groups of rows\n\n## Groups of rows\n\n-   `count()`: count unique values of one or more variables.\n\n<br>\n\n| Variable1 | Variable2 | Variable3 |\n|-----------|-----------|-----------|\n| 1         | A         | Yes       |\n| 2         | B         | Yes       |\n| 5         | A         | No        |\n| 2         | B         | No        |\n| 1         | A         | No        |\n| 4         | B         | No        |\n\n## Groups of rows\n\n-   `group_by()`: group separately for each value of a variable\n\n<br>\n\n| Variable1 | Variable2 | Variable3 |\n|-----------|-----------|-----------|\n| 1         | A         | Yes       |\n| 2         | B         | Yes       |\n| 5         | A         | No        |\n| 2         | B         | No        |\n| 1         | A         | No        |\n| 4         | B         | No        |\n\n## Groups of rows\n\n-   `summarize()`: collapses a group into a single row.\n\n<br>\n\n| Variable1 | Variable2 | Variable3 |\n|-----------|-----------|-----------|\n| 1         | A         | Yes       |\n| 2         | B         | Yes       |\n| 5         | A         | No        |\n| 2         | B         | No        |\n| 1         | A         | No        |\n| 4         | B         | No        |\n\n## `count()` {.smaller}\n\nCount how many movies pass or fail the Bechdel test.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbechdel\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1,615 × 7\n   title          year gross_2013 budget_2013    roi binary clean_test\n   <chr>         <dbl>      <dbl>       <dbl>  <dbl> <chr>  <chr>     \n 1 21 & Over      2013   67878146    13000000  5.22  FAIL   notalk    \n 2 Dredd 3D       2012   55078343    45658735  1.21  PASS   ok        \n 3 12 Years a S…  2013  211714070    20000000 10.6   FAIL   notalk    \n 4 2 Guns         2013  208105475    61000000  3.41  FAIL   notalk    \n 5 42             2013  190040426    40000000  4.75  FAIL   men       \n 6 47 Ronin       2013  184166317   225000000  0.819 FAIL   men       \n 7 A Good Day t…  2013  371598396    92000000  4.04  FAIL   notalk    \n 8 About Time     2013  102648667    12000000  8.55  PASS   ok        \n 9 Admission      2013   36014634    13000000  2.77  PASS   ok        \n10 After Earth    2013  304895295   130000000  2.35  FAIL   notalk    \n# ℹ 1,605 more rows\n```\n\n\n:::\n:::\n\n\n## `count()` {.smaller}\n\nCount how many movies pass or fail the Bechdel test.\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"2\"}\nbechdel |>\n  count(binary)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 2 × 2\n  binary     n\n  <chr>  <int>\n1 FAIL     862\n2 PASS     753\n```\n\n\n:::\n:::\n\n\n## `summarize()` {.smaller}\n\nCompute average budget\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbechdel \n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1,615 × 7\n   title          year gross_2013 budget_2013    roi binary clean_test\n   <chr>         <dbl>      <dbl>       <dbl>  <dbl> <chr>  <chr>     \n 1 21 & Over      2013   67878146    13000000  5.22  FAIL   notalk    \n 2 Dredd 3D       2012   55078343    45658735  1.21  PASS   ok        \n 3 12 Years a S…  2013  211714070    20000000 10.6   FAIL   notalk    \n 4 2 Guns         2013  208105475    61000000  3.41  FAIL   notalk    \n 5 42             2013  190040426    40000000  4.75  FAIL   men       \n 6 47 Ronin       2013  184166317   225000000  0.819 FAIL   men       \n 7 A Good Day t…  2013  371598396    92000000  4.04  FAIL   notalk    \n 8 About Time     2013  102648667    12000000  8.55  PASS   ok        \n 9 Admission      2013   36014634    13000000  2.77  PASS   ok        \n10 After Earth    2013  304895295   130000000  2.35  FAIL   notalk    \n# ℹ 1,605 more rows\n```\n\n\n:::\n:::\n\n\n## `summarize()` {.smaller}\n\nCompute average budget\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"2\"}\nbechdel |>\n  summarize(mean_budget = mean(budget_2013))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1 × 1\n  mean_budget\n        <dbl>\n1   57035015.\n```\n\n\n:::\n:::\n\n\n## `summarize()` {.smaller}\n\nGenerally, looks like:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummarize(resut_variable_name = function(existing_variable))\n```\n:::\n\n\n## `group_by()` {.smaller}\n\nGroup by movies passing or failing the test\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbechdel\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1,615 × 7\n   title          year gross_2013 budget_2013    roi binary clean_test\n   <chr>         <dbl>      <dbl>       <dbl>  <dbl> <chr>  <chr>     \n 1 21 & Over      2013   67878146    13000000  5.22  FAIL   notalk    \n 2 Dredd 3D       2012   55078343    45658735  1.21  PASS   ok        \n 3 12 Years a S…  2013  211714070    20000000 10.6   FAIL   notalk    \n 4 2 Guns         2013  208105475    61000000  3.41  FAIL   notalk    \n 5 42             2013  190040426    40000000  4.75  FAIL   men       \n 6 47 Ronin       2013  184166317   225000000  0.819 FAIL   men       \n 7 A Good Day t…  2013  371598396    92000000  4.04  FAIL   notalk    \n 8 About Time     2013  102648667    12000000  8.55  PASS   ok        \n 9 Admission      2013   36014634    13000000  2.77  PASS   ok        \n10 After Earth    2013  304895295   130000000  2.35  FAIL   notalk    \n# ℹ 1,605 more rows\n```\n\n\n:::\n:::\n\n\n## `group_by()` {.smaller}\n\nGroup by movies passing or failing the test\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbechdel |>\n  group_by(binary)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1,615 × 7\n# Groups:   binary [2]\n   title          year gross_2013 budget_2013    roi binary clean_test\n   <chr>         <dbl>      <dbl>       <dbl>  <dbl> <chr>  <chr>     \n 1 21 & Over      2013   67878146    13000000  5.22  FAIL   notalk    \n 2 Dredd 3D       2012   55078343    45658735  1.21  PASS   ok        \n 3 12 Years a S…  2013  211714070    20000000 10.6   FAIL   notalk    \n 4 2 Guns         2013  208105475    61000000  3.41  FAIL   notalk    \n 5 42             2013  190040426    40000000  4.75  FAIL   men       \n 6 47 Ronin       2013  184166317   225000000  0.819 FAIL   men       \n 7 A Good Day t…  2013  371598396    92000000  4.04  FAIL   notalk    \n 8 About Time     2013  102648667    12000000  8.55  PASS   ok        \n 9 Admission      2013   36014634    13000000  2.77  PASS   ok        \n10 After Earth    2013  304895295   130000000  2.35  FAIL   notalk    \n# ℹ 1,605 more rows\n```\n\n\n:::\n:::\n\n\n## `group_by() + summarize()` {.smaller}\n\nGroup by movies passing/failing and compute within-group average budget\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbechdel |>\n  group_by(binary) |>\n  summarize(mean_budget = mean(budget_2013))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 2 × 2\n  binary mean_budget\n  <chr>        <dbl>\n1 FAIL     65877024.\n2 PASS     46913086.\n```\n\n\n:::\n:::\n\n\n## Where can I find all of this??!\n\n# AE 04\n",
    "supporting": [
      "04-data-transform_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}