{
  "hash": "228af9926ce476a89fde5ed3b4df9849",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"AE 03: Duke Forest\"\nsubtitle: \"Suggested answers\"\nexecute:\n  error: true\n---\n\n## Packages\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(openintro)\n```\n:::\n\n\n## Data\n\nWe will be using the Duke forest data set in the open intro package.\n\nDo your own investigation to get to know the data.\nHow many observations does it have?\nHow many variables are measured?\nGo ahead and do a glimpse!\n\n\n::: {.cell}\n\n```{.r .cell-code}\nglimpse(duke_forest)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 98\nColumns: 13\n$ address    <chr> \"1 Learned Pl, Durham, NC 27705\", \"1616 Pinecrest Rd, Durha…\n$ price      <dbl> 1520000, 1030000, 420000, 680000, 428500, 456000, 1270000, …\n$ bed        <dbl> 3, 5, 2, 4, 4, 3, 5, 4, 4, 3, 4, 4, 3, 5, 4, 5, 3, 4, 4, 3,…\n$ bath       <dbl> 4.0, 4.0, 3.0, 3.0, 3.0, 3.0, 5.0, 3.0, 5.0, 2.0, 3.0, 3.0,…\n$ area       <dbl> 6040, 4475, 1745, 2091, 1772, 1950, 3909, 2841, 3924, 2173,…\n$ type       <chr> \"Single Family\", \"Single Family\", \"Single Family\", \"Single …\n$ year_built <dbl> 1972, 1969, 1959, 1961, 2020, 2014, 1968, 1973, 1972, 1964,…\n$ heating    <chr> \"Other, Gas\", \"Forced air, Gas\", \"Forced air, Gas\", \"Heat p…\n$ cooling    <fct> central, central, central, central, central, central, centr…\n$ parking    <chr> \"0 spaces\", \"Carport, Covered\", \"Garage - Attached, Covered…\n$ lot        <dbl> 0.97, 1.38, 0.51, 0.84, 0.16, 0.45, 0.94, 0.79, 0.53, 0.73,…\n$ hoa        <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…\n$ url        <chr> \"https://www.zillow.com/homedetails/1-Learned-Pl-Durham-NC-…\n```\n\n\n:::\n:::\n\n\n## Data Preparation\n\nOne of the questions in this AE asks about garages - notice that this is *not* a variable in the data set.\nI am adding code that creates a categorical variable called `garage` that has two levels: `Garage` or `No garage`.\nOur new variable equals `\"Garage\"` if the word `\"Garage\"` is detected in the `parking` variable and equals `\"No garage\"` if not.\n\n***You do not need to understand this code yet - we will learn how to write things like this in the coming days! For now, just run the code!***\n\n\n::: {.cell}\n\n```{.r .cell-code}\nduke_forest = duke_forest |>\n  mutate(garage = if_else(str_detect(parking, \"Garage\"),   \"Garage\", \"No garage\"))\n```\n:::\n\n\n***What did this do?***\n\nGo ahead and look at the data again to see the change.\n\n# Excercise 1\n\nSuppose you're helping some family friends who are looking to buy a house in Duke Forest.\n\nAs they browse Zillow listings, they realize some houses have garages and others don't, and they wonder: \\*\\*Does having a garage make a difference?\\*\n\\*\n\nLuckily, you can help them answer this question with data visualization!\n\n-   Make histograms of the prices of houses in Duke Forest based on whether they have a garage.\n-   Then, facet by \\`garage\\` and use different colors for the two facets.\n-   Choose an appropriate binwidth and decide whether a legend is needed, and turn it off if not.\n-   Include informative title and axis labels.\n-   Finally, include a brief (2-3 sentence) narrative comparing the distributions of prices of Duke Forest houses that do and don't have garages. Your narrative should touch on whe\n\n\n::: {.cell}\n\n```{.r .cell-code}\nduke_forest |>\n  mutate(garage = if_else(str_detect(parking, \"Garage\"), \"Garage\", \"No garage\")) |>\n  ggplot(aes(x = price, fill = garage)) +\n  geom_histogram() +\n  facet_wrap(~garage, ncol = 1) +\n  labs(\n    x = \"Price in $\",\n    y = \"\",\n    title = \"Histogram of Price of Homes by Garage or not\",\n    fill = \"Garage or not\"\n  )\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](ae-03-github-A_files/figure-html/price-garage-1.png){width=672}\n:::\n:::\n\n\n***Note: ncol = 1 is not necessary here, but it makes the facet 1 column instead of 1 row, which I think helps with readability!***\n\nThe distributions of prices of houses with and without garages are fairly similar, with centers around \\$600,000.\nEach distribution has potential outliers on the higher end.\nBased on this visualization, having a garage does not appear to \"make a difference\".\n\n# Exercise 2\n\nIt's expected that within any given market, larger houses will be priced higher.\nIt's also expected that the age of the house will have an effect on the price.\nHowever in some markets new houses might be more expensive while in others new construction might mean \"no character\" and hence be less expensive.\nSo your family friends ask: \"In Duke Forest, do houses that are bigger and more expensive tend to be newer ones than those that are smaller and cheaper?\"\n\nOnce again, data visualization skills to the rescue!\n\n-   Create a scatter plot to exploring the relationship between `price` and `area`, conditioning for `year_built`.\n-   Use `geom_smooth()` with the argument `se = FALSE` to add a smooth curve fit to the data and color the points by `year_built`.\n-   Include informative title, axis, and legend labels.\n-   Discuss each of the following claims (1-2 sentences per claim). Your discussion should touch on specific things you observe in your plot as evidence for or against the claims.\n    -   Claim 1: Larger houses are priced higher.\n    -   Claim 2: Newer houses are priced higher.\n    -   Claim 3: Bigger and more expensive houses tend to be newer ones than smaller and cheaper ones.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(\n  duke_forest,\n  aes(x = area, y = price, color = year_built)\n) +\n  geom_point(size = 3) +\n  geom_smooth(se = FALSE) +\n  labs(\n    x = \"Area of Home\",\n    y = \"Price of Home\",\n    title = \"Relationship between Price and Area by Year Built\",\n    color = \"Year Built\"\n  )\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n`geom_smooth()` using method = 'loess' and formula = 'y ~ x'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: The following aesthetics were dropped during statistical transformation:\ncolour.\nℹ This can happen when ggplot fails to infer the correct grouping structure in\n  the data.\nℹ Did you forget to specify a `group` aesthetic or to convert a numerical\n  variable into a factor?\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](ae-03-github-A_files/figure-html/price-area-1.png){width=672}\n:::\n:::\n\n\n-   Claim 1: Yes, there seems to be evidence of a positive relationship between the price of the home and the area of the home.\n\n-   Claim 2: No, there does not seem to be a relationship between the price and age of the home.\n\n-   Claim 3: No, there does not seem to be any evidence to suggest that larger more expensive homes are newer than those houses that are cheaper and smaller.\n    Points that are lighter colored (newer homes) are not concentrated on the top right of the plot.\n\n::: callout-important\nNow is a good time to render, commit, and push.\nMake sure that you commit and push all changed documents and your Git pane is completely empty before proceeding.\n:::\n",
    "supporting": [
      "ae-03-github-A_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}