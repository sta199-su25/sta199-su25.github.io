{
  "hash": "4416469e9d168e8accf8ceb7f6f87a9e",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"AE 10: More Practice\"\nformat:\n  html:\n    self-contained: true\n---\n\n# Durham Climate Data\n\nWe will use the `tidyverse` library today.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n\n\n:::\n:::\n\n\nAs a refresher, is the code from AE-08:\n\n**Read in data:**\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndurham_climate <- read_csv(\"data/durham-climate.csv\")\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nRows: 12 Columns: 4\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (1): month\ndbl (3): avg_high_f, avg_low_f, precipitation_in\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n\n\n:::\n:::\n\n\n**Relevel factors:**\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndurham_climate <- durham_climate |>\n  mutate(month = fct_relevel(month, c(\"January\", \"February\", \"March\",\n                                      \"April\", \"May\", \"June\", \"July\", \"August\", \n                                      \"September\", \"October\", \"November\", \"December\")))\n```\n:::\n\n\n**Plot:**\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(\n  durham_climate, \n  aes(x = month, y = avg_high_f, group = 1)\n  ) +\n  geom_line() +\n  geom_point(\n    shape = \"circle filled\", size = 2,\n    color = \"black\", fill = \"white\", stroke = 1\n  ) +\n  labs(\n    x = \"Month\",\n    y = \"Average high temperature (F)\",\n    title = \"Durham climate\"\n  )\n```\n\n::: {.cell-output-display}\n![](ae-10-github-A_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\n## Goal : Beautify the plot\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndurham_climate <- durham_climate |>\n  mutate(month = fct_relevel(month, c(\"January\", \"February\", \"March\",\n                                      \"April\", \"May\", \"June\", \"July\",\n                                      \"August\", \"September\", \"October\",\n                                      \"November\", \"December\")))\ndurham_climate <- durham_climate |>\n  mutate( season = case_when(\n      month %in% c(\"December\", \"January\", \"February\") ~ \"Winter\",\n      month %in% c(\"March\", \"April\", \"May\") ~ \"Spring\",\n      month %in% c(\"June\", \"July\", \"August\") ~ \"Summer\",\n      month %in% c(\"September\", \"October\", \"November\") ~ \"Fall\",)\n    ) |>\n  mutate(season = fct_relevel(season, \"Winter\", \"Spring\", \"Summer\", \"Fall\"))\ndurham_climate |> ggplot(aes(x = month, y = avg_high_f,\n                             group = 1, fill = season)) +\n  geom_line() +\n  geom_point(shape = \"circle filled\", size = 3, stroke = 1) +\n  scale_fill_manual(\n    values = c(\n        \"Winter\" = \"lightskyblue1\",\n        \"Spring\" = \"chartreuse3\",\n        \"Summer\" = \"gold2\",\n        \"Fall\" = \"lightsalmon4\")) +\n  labs(\n      x = \"Month\",\n      y = \"Average high temperature (F)\",\n      title = \"Durham climate\",\n      fill = \"Season\") +\n  theme_minimal() +\n  theme(legend.position = \"top\")\n```\n\n::: {.cell-output-display}\n![](ae-10-github-A_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n\n## Goal : Pivot + Multiple Lines!\n\n**Add your pivot code here:**\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndurham_climate <- durham_climate |>\n  pivot_longer(cols = c(avg_high_f, avg_low_f),\n                               names_to = \"temp_type\", \n                               values_to = \"temp\")\n```\n:::\n\n\n**Check out the plot!**\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndurham_climate |>\n  ggplot(aes(x = month, y = temp, group = temp_type, color = temp_type, fill = season)) +\n    geom_line() +\n    geom_point(shape = \"circle filled\", size = 3, stroke = 1) +\n    scale_fill_manual(\n      values = c(\n        \"Winter\" = \"lightskyblue1\",\n        \"Spring\" = \"chartreuse3\",\n        \"Summer\" = \"gold2\",\n        \"Fall\" = \"lightsalmon4\"\n      )\n    ) +\n    scale_color_manual(\n      values = c(\n        \"avg_high_f\" = \"gray20\",\n        \"avg_low_f\" = \"gray70\"\n      )\n    ) +\n    labs(\n      x = \"Month\",\n      y = \"Average temperature (F)\",\n      title = \"Durham climate\",\n      fill = \"Season\",\n      color = \"Type\"\n    ) +\n    theme_minimal() +\n    theme(legend.position = \"top\")\n```\n:::\n\n",
    "supporting": [
      "ae-10-github-A_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}