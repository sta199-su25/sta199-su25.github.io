{
  "hash": "8f1dc989db967c14aa5f6dac7c5f5f6e",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"AE 05: Battle of the Budget Airlines\"\nsubtitle: \"Suggested answers\"\nformat:\n  html:\n    self-contained: true\n---\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(nycflights23)\n```\n:::\n\n\n## NYC Flights\n\n-   To demonstrate data wrangling we will use `flights`, a tibble in the **nycflights23** R package.\n    *Note: this is an updated version of the package we used last time!*\n\n-   The data set includes characteristics of all flights departing from New York City (JFK, LGA, EWR) in 2023.\n\n::: callout-caution\nIf you have already loaded nycflights13, nycflights23 might not load properly, since they are two packages that contain data sets with the same names.\nIf this is causing problems, click Session -\\> Restart R and Clear Outputs.\n:::\n\n## EDA: Battle of the Budget Airlines\n\nThere's a good chance you've either experienced or heard about the joys of flying with Spirit and Frontier airlines.\nThey get you where you want to go - no more, no less (well, maybe less) - at a very cheap cost.\n*But which is worse??* Specifically, which of the two airlines has a higher proportion of flights with a delayed arrival time?\n\nCreate a data visualization and compute corresponding summary statistics that investigate this question.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nflights |> \n  filter(carrier %in% c(\"F9\", \"NK\")) |> \n  mutate(is_arr_delay = ifelse(arr_delay > 0, \"Delay\", \"No Delay\")) |>\n  filter(!is.na(arr_delay)) |> \n  ggplot(aes(x = carrier, fill = is_arr_delay)) +\n  geom_bar(position = \"fill\")\n```\n\n::: {.cell-output-display}\n![](ae-05-github-A_files/figure-html/budget-air-1.png){width=672}\n:::\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nflights |> \n  filter(carrier %in% c(\"F9\", \"NK\")) |> \n  mutate(is_arr_delay = ifelse(arr_delay > 0, \"Delay\", \"No Delay\")) |>\n  filter(!is.na(arr_delay)) |> \n  count(carrier, is_arr_delay) |>\n  group_by(carrier) |>\n  mutate(total = sum(n)) |>\n  mutate(n = n/total)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 4 × 4\n# Groups:   carrier [2]\n  carrier is_arr_delay     n total\n  <chr>   <chr>        <dbl> <int>\n1 F9      Delay        0.517  1218\n2 F9      No Delay     0.483  1218\n3 NK      Delay        0.384 14769\n4 NK      No Delay     0.616 14769\n```\n\n\n:::\n:::\n\n\n**Questions:**\n\nCan you use this data to make comments about *all* Spirit and Frontier flights, or just those leaving New York?\nIs there anything that might cause this comparison to be unfair?\n\n## More EDA\n\nMaybe you care more about how much the delays are by than whether or not there is a delay.\nIf one airline has a lot of delays, but they are all by 5 minutes, does it really matter??\n\nNow, create a data visualization and compute summary statistics that compare delay times for delayed flights.\nNow which airline is worse?\nHas this changed your answer?\n\n\n::: {.cell}\n\n```{.r .cell-code}\nflights |> \n  filter(carrier %in% c(\"F9\", \"NK\")) |> \n  filter(arr_delay > 0) |> \n  ggplot(aes(x = arr_delay, y = carrier)) +\n  geom_boxplot()\n```\n\n::: {.cell-output-display}\n![](ae-05-github-A_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nflights |> \n  filter(carrier %in% c(\"F9\", \"NK\")) |> \n  filter(arr_delay > 0) |> \n  group_by(carrier) |>\n  summarise(mean = mean(arr_delay), \n            median = median(arr_delay),\n            Q1 = quantile(arr_delay, 0.25),\n            Q3 = quantile(arr_delay, 0.75))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 2 × 5\n  carrier  mean median    Q1    Q3\n  <chr>   <dbl>  <dbl> <dbl> <dbl>\n1 F9       67.5     37  12.2    75\n2 NK       54.7     27  10      70\n```\n\n\n:::\n:::\n\n",
    "supporting": [
      "ae-05-github-A_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}